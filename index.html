<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nightshift Lobo | Developer Theme Ecosystem</title>
  <meta name="description" content="Nightshift Lobo is a deep focus developer theme ecosystem for Neovim, VSCode, and terminal workflows.">
  <link rel="icon" type="image/png" href="assets/nightshift-lobo.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="#top" aria-label="Nightshift Lobo home">
        <img src="assets/nightshift-lobo.png" alt="Nightshift Lobo logo" class="brand-logo">
        <span>Nightshift Lobo</span>
      </a>
      <nav class="site-nav" aria-label="Primary">
        <a href="#flavors">Flavors</a>
        <a href="#accessibility">Accessibility</a>
        <a href="#philosophy">Philosophy</a>
        <a href="#ecosystem">Ecosystem</a>
        <a href="#showcase">Showcase</a>
      </nav>
    </div>
  </header>

  <main id="top">
    <section class="hero section">
      <div class="container hero-inner">
        <p class="hero-kicker">Developer Theme Ecosystem</p>
        <h1>Nightshift Lobo</h1>
        <p class="hero-subtitle">Engineered for Deep Focus</p>
        <p class="hero-copy">
          A calibrated 26-color system built to reduce eye strain, preserve syntax hierarchy, and sustain clarity through long development sessions.
Designed for developers who value precision over noise.
        </p>
        <div class="hero-actions">
          <a class="button button-primary" href="https://github.com/orgs/NightShiftLobo/repositories" target="_blank" rel="noopener noreferrer">View on GitHub</a>
          <a class="button button-secondary" href="#flavors">Explore Flavours</a>
        </div>
      </div>
    </section>

    <section id="flavors" class="section">
      <div class="container">
        <h2>Flavour Palettes</h2>
        <p class="palette-intro">Role-based palette tables designed for readability stability, low glare response, and consistent semantic contrast.</p>
        <div id="flavorTables" class="flavor-stack" aria-label="Nightshift Lobo flavour palette tables"></div>
      </div>
    </section>

    <section id="accessibility" class="section">
      <div class="container">
        <h2>Accessibility & Contrast Validation</h2>
        <p class="palette-intro">Appropriate text-to-background contrast improves readability and lowers visual fatigue during long sessions. This section computes WCAG 2.1 contrast ratios for key semantic pairs per flavour.</p>
        <div id="contrastCharts" class="contrast-grid" aria-label="WCAG contrast validation charts"></div>
      </div>
    </section>

    <section id="philosophy" class="section">
      <div class="container narrow philosophy-inner">
        <h2>Design Philosophy</h2>
        <div class="text-stack">
          <p>Low contrast is intentional. It reduces visual friction between syntax elements and surrounding UI so your focus stays anchored to structure and logic.</p>
          <p>Reduced vibrancy helps maintain concentration over long sessions. Colors remain expressive for meaning, but restrained enough to avoid constant visual stimulation.</p>
          <p>Eye strain reduction is a practical requirement for developers. Nightshift Lobo is tuned for long-form reading, debugging, and terminal-heavy workflows.</p>
        </div>
      </div>
    </section>


    <section id="ecosystem" class="section">
      <div class="container">
        <h2>Ecosystem Porting Status</h2>
        <div class="support-grid">
          <article class="support-item"><h3>DankMaterialShell</h3><p>Completed. Multi-flavor application theming is available.</p></article>
          <article class="support-item"><h3>Neovim</h3><p>Completed for Eclipse flavor. Shadow, Obsidian, and Dawn variants are in active development.</p></article>
          <article class="support-item"><h3>VSCode</h3><p>Porting is currently in development.</p></article>
          <article class="support-item"><h3>Next Milestone</h3><p>Bring all four flavors to Neovim and VSCode with consistent accent behavior.</p></article>
        </div>
      </div>
    </section>

    <section id="showcase" class="section">
      <div class="container">
        <h2>Environment Showcase</h2>
        <p class="palette-intro">Nightshift Lobo in full workflow context.</p>
        <div class="showcase-grid">
          <figure class="showcase-card">
            <img src="assets/showcase/dms-desktop.png" alt="DankMaterialShell desktop using Nightshift Lobo">
            <figcaption>DankMaterialShell</figcaption>
          </figure>
          <figure class="showcase-card">
            <img src="assets/showcase/neovim-setup.png" alt="Neovim setup with Nightshift Lobo full language support">
            <figcaption>Neovim Setup</figcaption>
          </figure>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-brand">
        <img src="assets/nightshift-lobo.png" alt="Nightshift Lobo logo" class="footer-logo">
      </div>
      <a href="https://github.com/orgs/NightShiftLobo/repositories" target="_blank" rel="noopener noreferrer">GitHub</a>
      <span>License: MIT</span>
      <span>Author: Nightshift Lobo</span>
    </div>
  </footer>

  <script>
    const FLAVORS = {
      Eclipse: [
        { role: "bg_0", name: "Abyss", hex: "#0D1016", purpose: "Base editor background" },
        { role: "bg_1", name: "Deep Night", hex: "#131722", purpose: "Secondary surface" },
        { role: "bg_2", name: "Carbon Veil", hex: "#1A1F2C", purpose: "Panel layering" },
        { role: "bg_3", name: "Iron Shadow", hex: "#222837", purpose: "Elevated containers" },
        { role: "bg_4", name: "Wolf Stone", hex: "#2A3142", purpose: "Alt backdrop" },
        { role: "border", name: "Graphite Edge", hex: "#2C3344", purpose: "Subtle separators" },
        { role: "fg_primary", name: "Moonlight", hex: "#D4D8E4", purpose: "Primary content text" },
        { role: "fg_secondary", name: "Silver Mist", hex: "#9EA6BD", purpose: "Secondary text" },
        { role: "fg_muted", name: "Ash Veil", hex: "#7C859E", purpose: "Muted text" },
        { role: "comment", name: "Quiet Steel", hex: "#626B80", purpose: "Comment tone" },
        { role: "blue", name: "Arctic Pulse", hex: "#6F88E6", purpose: "Info and callable entities" },
        { role: "blue_soft", name: "Frosted Indigo", hex: "#5C73C7", purpose: "Supportive blue accent" },
        { role: "cyan", name: "Polar Current", hex: "#58AFC2", purpose: "Operator and metadata cues" },
        { role: "teal", name: "Northern Tide", hex: "#5CA3B2", purpose: "Properties and fields" },
        { role: "green", name: "Boreal Moss", hex: "#6ABF88", purpose: "Strings and success states" },
        { role: "yellow", name: "Amber Grain", hex: "#D2B46F", purpose: "Keywords and warnings" },
        { role: "orange", name: "Ember Clay", hex: "#C98C6A", purpose: "Warm callout emphasis" },
        { role: "red", name: "Faded Crimson", hex: "#D37D82", purpose: "Errors and critical states" },
        { role: "purple", name: "Lunar Orchid", hex: "#A98CE8", purpose: "Types and declarations" },
        { role: "selection", name: "Night Focus", hex: "#263045", purpose: "Selection background" },
        { role: "cursor", name: "Electric Ice", hex: "#7C93F2", purpose: "Cursor and active hints" },
        { role: "success", name: "Soft Meadow", hex: "#6ABF88", purpose: "Success messaging" },
        { role: "warning", name: "Burnished Gold", hex: "#D2B46F", purpose: "Warning messaging" },
        { role: "error", name: "Muted Rose", hex: "#D37D82", purpose: "Error messaging" },
        { role: "info", name: "Arctic Pulse", hex: "#6F88E6", purpose: "Informational messaging" },
        { role: "diff_add", name: "Deep Pine", hex: "#2C4A3C", purpose: "Git add background" }
      ],
      Shadow: [
        { role: "bg_0", name: "Midnight Alloy", hex: "#10131A", purpose: "Base editor background" },
        { role: "bg_1", name: "Quiet Graphite", hex: "#181C24", purpose: "Secondary surface" },
        { role: "bg_2", name: "Slate Core", hex: "#1E2432", purpose: "Panel layering" },
        { role: "bg_3", name: "Obscure Metal", hex: "#242B3A", purpose: "Elevated containers" },
        { role: "bg_4", name: "Steel Depth", hex: "#2E3546", purpose: "Alt backdrop" },
        { role: "border", name: "Dim Alloy", hex: "#2E3445", purpose: "Subtle separators" },
        { role: "fg_primary", name: "Frost White", hex: "#D6DBE8", purpose: "Primary content text" },
        { role: "fg_secondary", name: "Pale Steel", hex: "#A4ABC2", purpose: "Secondary text" },
        { role: "fg_muted", name: "Faint Alloy", hex: "#858DA6", purpose: "Muted text" },
        { role: "comment", name: "Subtle Iron", hex: "#687188", purpose: "Comment tone" },
        { role: "blue", name: "Arctic Pulse", hex: "#6F88E6", purpose: "Info and callable entities" },
        { role: "blue_soft", name: "Calm Indigo", hex: "#6078D4", purpose: "Supportive blue accent" },
        { role: "cyan", name: "Polar Current", hex: "#5BB5C8", purpose: "Operator and metadata cues" },
        { role: "teal", name: "Northern Tide", hex: "#60A9B8", purpose: "Properties and fields" },
        { role: "green", name: "Boreal Moss", hex: "#70C693", purpose: "Strings and success states" },
        { role: "yellow", name: "Amber Grain", hex: "#D8BB78", purpose: "Keywords and warnings" },
        { role: "orange", name: "Ember Clay", hex: "#CF9272", purpose: "Warm callout emphasis" },
        { role: "red", name: "Faded Crimson", hex: "#DA848A", purpose: "Errors and critical states" },
        { role: "purple", name: "Lunar Orchid", hex: "#AF92EE", purpose: "Types and declarations" },
        { role: "selection", name: "Shadow Focus", hex: "#2A344A", purpose: "Selection background" },
        { role: "cursor", name: "Soft Ice", hex: "#88A0FF", purpose: "Cursor and active hints" },
        { role: "success", name: "Forest Glow", hex: "#70C693", purpose: "Success messaging" },
        { role: "warning", name: "Pale Amber", hex: "#D8BB78", purpose: "Warning messaging" },
        { role: "error", name: "Dusted Rose", hex: "#DA848A", purpose: "Error messaging" },
        { role: "info", name: "Arctic Pulse", hex: "#6F88E6", purpose: "Informational messaging" },
        { role: "diff_add", name: "Moss Veil", hex: "#315042", purpose: "Git add background" }
      ],
      Obsidian: [
        { role: "bg_0", name: "Blackstone", hex: "#141821", purpose: "Base editor background" },
        { role: "bg_1", name: "Obsidian Dust", hex: "#1B202B", purpose: "Secondary surface" },
        { role: "bg_2", name: "Volcanic Slate", hex: "#222838", purpose: "Panel layering" },
        { role: "bg_3", name: "Basalt Ridge", hex: "#2A3142", purpose: "Elevated containers" },
        { role: "bg_4", name: "Dark Quartz", hex: "#333A4D", purpose: "Alt backdrop" },
        { role: "border", name: "Obsidian Edge", hex: "#353C50", purpose: "Subtle separators" },
        { role: "fg_primary", name: "Cold Moon", hex: "#D9DEEA", purpose: "Primary content text" },
        { role: "fg_secondary", name: "Faded Quartz", hex: "#A8AFC8", purpose: "Secondary text" },
        { role: "fg_muted", name: "Stone Whisper", hex: "#8891A8", purpose: "Muted text" },
        { role: "comment", name: "Dim Basalt", hex: "#6C748A", purpose: "Comment tone" },
        { role: "blue", name: "Glacial Blue", hex: "#748EF2", purpose: "Info and callable entities" },
        { role: "blue_soft", name: "Deep Indigo", hex: "#5F77D1", purpose: "Supportive blue accent" },
        { role: "cyan", name: "Arctic Flow", hex: "#5DB8CB", purpose: "Operator and metadata cues" },
        { role: "teal", name: "Ocean Slate", hex: "#62AEBE", purpose: "Properties and fields" },
        { role: "green", name: "Forest Veil", hex: "#74C99B", purpose: "Strings and success states" },
        { role: "yellow", name: "Burnished Wheat", hex: "#DCBE7C", purpose: "Keywords and warnings" },
        { role: "orange", name: "Warm Clay", hex: "#D49776", purpose: "Warm callout emphasis" },
        { role: "red", name: "Quiet Ember", hex: "#DE8A90", purpose: "Errors and critical states" },
        { role: "purple", name: "Obscure Violet", hex: "#B297F0", purpose: "Types and declarations" },
        { role: "selection", name: "Stone Focus", hex: "#2F3850", purpose: "Selection background" },
        { role: "cursor", name: "Polar Light", hex: "#92A9FF", purpose: "Cursor and active hints" },
        { role: "success", name: "Evergreen Glow", hex: "#74C99B", purpose: "Success messaging" },
        { role: "warning", name: "Harvest Gold", hex: "#DCBE7C", purpose: "Warning messaging" },
        { role: "error", name: "Faded Garnet", hex: "#DE8A90", purpose: "Error messaging" },
        { role: "info", name: "Glacial Blue", hex: "#748EF2", purpose: "Informational messaging" },
        { role: "diff_add", name: "Deep Cedar", hex: "#355347", purpose: "Git add background" }
      ],
      Dawn: [
        { role: "bg_0", name: "Soft Parchment", hex: "#F4F1E8", purpose: "Base editor background" },
        { role: "bg_1", name: "Pale Linen", hex: "#E9E4D8", purpose: "Secondary surface" },
        { role: "bg_2", name: "Warm Canvas", hex: "#DED7C8", purpose: "Panel layering" },
        { role: "bg_3", name: "Sunlit Clay", hex: "#D2CAB9", purpose: "Elevated containers" },
        { role: "bg_4", name: "Desert Stone", hex: "#C7BEAB", purpose: "Alt backdrop" },
        { role: "border", name: "Soft Taupe", hex: "#C4BBA8", purpose: "Subtle separators" },
        { role: "fg_primary", name: "Deep Ink", hex: "#2E3440", purpose: "Primary content text" },
        { role: "fg_secondary", name: "Storm Grey", hex: "#4C5568", purpose: "Secondary text" },
        { role: "fg_muted", name: "Quiet Slate", hex: "#6C7385", purpose: "Muted text" },
        { role: "comment", name: "Dusty Graphite", hex: "#7A8194", purpose: "Comment tone" },
        { role: "blue", name: "Horizon Blue", hex: "#4F6EDB", purpose: "Info and callable entities" },
        { role: "blue_soft", name: "Morning Indigo", hex: "#6C83D6", purpose: "Supportive blue accent" },
        { role: "cyan", name: "Calm Lagoon", hex: "#3F8F95", purpose: "Operator and metadata cues" },
        { role: "teal", name: "Muted Aqua", hex: "#4F949A", purpose: "Properties and fields" },
        { role: "green", name: "Olive Meadow", hex: "#4F9C69", purpose: "Strings and success states" },
        { role: "yellow", name: "Soft Ochre", hex: "#B48C42", purpose: "Keywords and warnings" },
        { role: "orange", name: "Clay Ember", hex: "#B87A52", purpose: "Warm callout emphasis" },
        { role: "red", name: "Terracotta Rose", hex: "#B35D5D", purpose: "Errors and critical states" },
        { role: "purple", name: "Morning Violet", hex: "#7A63B8", purpose: "Types and declarations" },
        { role: "selection", name: "Warm Highlight", hex: "#D6CEBD", purpose: "Selection background" },
        { role: "cursor", name: "Focus Blue", hex: "#4F6EDB", purpose: "Cursor and active hints" },
        { role: "success", name: "Olive Meadow", hex: "#4F9C69", purpose: "Success messaging" },
        { role: "warning", name: "Soft Ochre", hex: "#B48C42", purpose: "Warning messaging" },
        { role: "error", name: "Terracotta Rose", hex: "#B35D5D", purpose: "Error messaging" },
        { role: "info", name: "Horizon Blue", hex: "#4F6EDB", purpose: "Informational messaging" },
        { role: "diff_add", name: "Moss Tint", hex: "#BFD3C2", purpose: "Git add background" }
      ]
    };

    const CONTRAST_ROLES = ["fg_primary", "fg_secondary", "comment", "blue", "green", "yellow", "red"];

    function hexToRgb(hex) {
      const val = hex.replace("#", "");
      const n = Number.parseInt(val, 16);
      return { r: (n >> 16) & 255, g: (n >> 8) & 255, b: n & 255 };
    }

    function toLinear(v) {
      const s = v / 255;
      return s <= 0.03928 ? s / 12.92 : ((s + 0.055) / 1.055) ** 2.4;
    }

    function luminance(hex) {
      const { r, g, b } = hexToRgb(hex);
      return 0.2126 * toLinear(r) + 0.7152 * toLinear(g) + 0.0722 * toLinear(b);
    }

    function contrastRatio(a, b) {
      const l1 = luminance(a);
      const l2 = luminance(b);
      const lighter = Math.max(l1, l2);
      const darker = Math.min(l1, l2);
      return (lighter + 0.05) / (darker + 0.05);
    }

    function pick(flavorRows, role) {
      return flavorRows.find((r) => r.role === role);
    }

    function ratioBadge(ratio, threshold) {
      return ratio >= threshold ? "pass" : "fail";
    }

    function renderFlavorTables() {
      const root = document.getElementById("flavorTables");
      const fragment = document.createDocumentFragment();

      Object.entries(FLAVORS).forEach(([flavor, rows]) => {
        const section = document.createElement("section");
        section.className = "flavor-table-wrap";
        section.innerHTML = `
          <h3>${flavor}</h3>
          <div class="flavor-table-scroll">
            <table class="flavor-table">
              <caption>${flavor} 26-color role map</caption>
              <thead>
                <tr>
                  <th scope="col">Flavour</th>
                  <th scope="col">Role</th>
                  <th scope="col">Color Name</th>
                  <th scope="col">Hex</th>
                  <th scope="col">Purpose</th>
                </tr>
              </thead>
              <tbody>
                ${rows
                  .map((row) => `
                    <tr>
                      <td>${flavor}</td>
                      <td><code>${row.role}</code></td>
                      <td><span class="chip-dot" style="color:${row.hex}">‚óè</span> ${row.name}</td>
                      <td><code>${row.hex}</code></td>
                      <td>${row.purpose || "-"}</td>
                    </tr>
                  `)
                  .join("")}
              </tbody>
            </table>
          </div>
        `;
        fragment.appendChild(section);
      });

      root.appendChild(fragment);
    }

    function renderContrastCharts() {
      const root = document.getElementById("contrastCharts");
      const fragment = document.createDocumentFragment();

      Object.entries(FLAVORS).forEach(([flavor, rows]) => {
        const bg = pick(rows, "bg_0");
        const card = document.createElement("article");
        card.className = "contrast-card";

        const items = CONTRAST_ROLES
          .map((role) => {
            const fg = pick(rows, role);
            if (!fg || !bg) return "";
            const ratio = contrastRatio(fg.hex, bg.hex);
            const pct = Math.min(100, (ratio / 21) * 100);
            return `
              <li class="contrast-item">
                <div class="contrast-meta">
                  <span><code>${role}</code> on <code>bg_0</code></span>
                  <span class="ratio">${ratio.toFixed(2)}:1</span>
                </div>
                <div class="meter" role="img" aria-label="${flavor} ${role} contrast ${ratio.toFixed(2)} to 1">
                  <span style="width:${pct}%; background:${fg.hex};"></span>
                </div>
                <div class="contrast-badges">
                  <span class="badge ${ratioBadge(ratio, 4.5)}">AA ${ratio >= 4.5 ? "Pass" : "Fail"}</span>
                  <span class="badge ${ratioBadge(ratio, 7)}">AAA ${ratio >= 7 ? "Pass" : "Fail"}</span>
                </div>
              </li>
            `;
          })
          .join("");

        card.innerHTML = `
          <h3>${flavor}</h3>
          <p>Reference pair baseline: <code>${pick(rows, "fg_primary").hex}</code> on <code>${bg.hex}</code></p>
          <ul class="contrast-list">${items}</ul>
        `;
        fragment.appendChild(card);
      });

      root.appendChild(fragment);
    }

    renderFlavorTables();
    renderContrastCharts();
  </script>
</body>
</html>
